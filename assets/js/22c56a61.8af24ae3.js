"use strict";(self.webpackChunkdocs_quickdrawsoftware_com=self.webpackChunkdocs_quickdrawsoftware_com||[]).push([[983],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return f}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=c(a),f=n,d=p["".concat(s,".").concat(f)]||p[f]||u[f]||o;return a?r.createElement(d,i(i({ref:t},m),{},{components:a})):r.createElement(d,i({ref:t},m))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}p.displayName="MDXCreateElement"},4833:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return m},default:function(){return p}});var r=a(7462),n=a(3366),o=(a(7294),a(3905)),i=["components"],l={sidebar_position:4,id:"parameters"},s="Stack Parameters",c={unversionedId:"jitsi-cfn/parameters",id:"jitsi-cfn/parameters",isDocsHomePage:!1,title:"Stack Parameters",description:"Parameter Overview",source:"@site/docs/jitsi-cfn/jitsi-cfn-4-parameters.md",sourceDirName:"jitsi-cfn",slug:"/jitsi-cfn/parameters",permalink:"/jitsi-cfn/parameters",editUrl:"https://github.com/quickdrawsoftware/docs.quickdrawsoftware.com/docs/jitsi-cfn/jitsi-cfn-4-parameters.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,id:"parameters"},sidebar:"tutorialSidebar",previous:{title:"Prerequisites",permalink:"/jitsi-cfn/prerequisites"},next:{title:"Post-Launch Access",permalink:"/jitsi-cfn/post-launch"}},m=[{value:"Parameter Overview",id:"parameter-overview",children:[]},{value:"Launching from the command line",id:"launching-from-the-command-line",children:[]}],u={toc:m};function p(e){var t=e.components,a=(0,n.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"stack-parameters"},"Stack Parameters"),(0,o.kt)("h2",{id:"parameter-overview"},"Parameter Overview"),(0,o.kt)("p",null,"You'll need to provide the following parameters to the stack at launch:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"KeyName")," - An existing EC2 Key Pair for SSH access."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"InstanceType")," - Instance type to use for the EC2 instances in the stack. For most users, we recommend c5.xlarge as the best balance of cost and performance."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"LoggingBucketName")," - Name for a new S3 bucket to store logs."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"FQDN")," - Domain name that will host the app. Strongly recommended to host on a subdomain, e.g meet.example.com"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SSLCertificate")," - Arn of an existing SSL certificate in Amazon Certificate Manager matching the domain name."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SSHCIDR")," - An IPv4 CIDR block for SSH access to the control instance. Should be 0.0.0.0/0 if you want to access it from everywhere."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"JitsiCIDR")," - An IPv4 CIDR block for access to Jitsi itself. Should be 0.0.0.0/0 if you want it accessible to everyone."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"EnableTokens")," - Whether to enable JWT Token Authorization. No meetings will be accessible without providing the token, which you will need to generate from your own frontend."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GrafanaPassword")," - Default admin password for accessing the Grafana monitoring infrastructure."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SlackWebhook")," - URL of a Slack webhook to send Grafana notifications to."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MeetPostInstall")," - Public URL to a bash script to run post-install on Meet servers."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"JVBPostInstall")," - Public URL to a bash script to run post-install on JVB servers."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"HaproxyPostInstall")," - Public URL to a bash script to run post-install on Haproxy servers."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ControlPostInstall")," - Public URL to a bash script to run post-install on Control server.")),(0,o.kt)("h2",{id:"launching-from-the-command-line"},"Launching from the command line"),(0,o.kt)("p",null,"While you can launch the stack from the AWS CloudFormation web interface, for ease of reproducible deployment it's usually easier to launch the stack using the AWS command line tools and a JSON file with your parameters."),(0,o.kt)("p",null,'You\'ll need the URL of the latest CloudFormation template file. From the AWS marketplace page for the stack, click "View CloudFormation Template." Find the link for "Download CloudFormation Template", then right-click and copy the URL of the latest version of the template.'),(0,o.kt)("p",null,"To launch the stack, use the latest template URL like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"aws cloudformation create-stack --region us-east-1 --stack-name jitsi --template-url https://awsmp-fulfillment-cf-templates-prod.s3-external-1.amazonaws.com/4552b5d7-197b-4047-abfe-d9eadfbd79a5/c13a23cdc7e348b39e22adeb2c982128.template --parameters file://parameters.json --capabilities CAPABILITY_NAMED_IAM`\n")),(0,o.kt)("p",null,"The parameters.json file should look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n    { "ParameterKey": "KeyName", "ParameterValue": "jitsi" },\n    { "ParameterKey": "InstanceType", "ParameterValue": "c5.xlarge" },\n    { "ParameterKey": "LoggingBucketName", "ParameterValue": "example-jitsi-test-logs" },\n    { "ParameterKey": "FQDN", "ParameterValue": "jitsi.example.com" },\n    { "ParameterKey": "SSLCertificate", "ParameterValue": "arn:aws:acm:us-east-1:xxxxxxxxxxxx:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" },\n    { "ParameterKey": "SSHCIDR", "ParameterValue": "0.0.0.0/0" },\n    { "ParameterKey": "JitsiCIDR", "ParameterValue": "0.0.0.0/0" },\n    { "ParameterKey": "EnableTokens", "ParameterValue": "false" },\n    { "ParameterKey": "GrafanaPassword", "ParameterValue": "securepassword" },\n    { "ParameterKey": "SlackWebhook", "ParameterValue": "" },\n    { "ParameterKey": "MeetPostInstall", "ParameterValue": "" },\n    { "ParameterKey": "JVBPostInstall", "ParameterValue": "" },\n    { "ParameterKey": "HaproxyPostInstall", "ParameterValue": "" },\n    { "ParameterKey": "ControlPostInstall", "ParameterValue": "" }\n]\n')))}p.isMDXComponent=!0}}]);