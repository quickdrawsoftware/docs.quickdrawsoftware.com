<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Usage Notes | Quickdraw Software Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.quickdrawsoftware.com/jitsi-cfn/usage"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Usage Notes | Quickdraw Software Docs"><meta data-react-helmet="true" name="description" content="Handy shortcuts"><meta data-react-helmet="true" property="og:description" content="Handy shortcuts"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.quickdrawsoftware.com/jitsi-cfn/usage"><link data-react-helmet="true" rel="alternate" href="https://docs.quickdrawsoftware.com/jitsi-cfn/usage" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.quickdrawsoftware.com/jitsi-cfn/usage" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0c1eb2ef.css">
<link rel="preload" href="/assets/js/runtime~main.2595c825.js" as="script">
<link rel="preload" href="/assets/js/main.7894d923.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Quickdraw Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Quickdraw Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Quickdraw Software</b></a><a href="https://quickdrawsoftware.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Back to Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/">Quickdraw Software Documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Scalable Jitsi CloudFormation Stack</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/overview">Scalable Jitsi Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/topology">CloudFormation Topology</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/prerequisites">Prerequisites</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/parameters">Stack Parameters</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/post-launch">Post-Launch Access</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/jitsi-cfn/usage">Usage Notes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/customization">Customization</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/jitsi-cfn/faq">Frequently Asked Questions</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Usage Notes</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="handy-shortcuts"></a>Handy shortcuts<a class="hash-link" href="#handy-shortcuts" title="Direct link to heading">#</a></h2><p>On the Control server:</p><ul><li><code>jitsictl</code> - Tool for easily administering shards in your cluster</li><li><code>restart-meet.sh</code> - Utility script for rebooting jicofo and prosody on all meet shards. This will force all users to reconnect, so should only be used in emergencies. Requires your EC2 keypair private key at <code>/root/.ssh/jitsi.pem</code>.</li></ul><p>On the HAProxy servers:</p><ul><li><code>watchstick</code> will open a live view of the current stick table</li></ul><p>On the Meet servers:</p><ul><li><code>meetstats</code> will query the statistics endpoint for jicofo on localhost and display the pretty-printed JSON output. Can be useful to inspect the internal state of a particular meet server.</li></ul><p>On the JVB servers:</p><ul><li><code>jvbstats</code> will query the statistics endpoint for jitsi-videobridge2 on localhost, and display the pretty-printed JSON output. Can be useful to inspect the internal state of a particular JVB server.</li></ul><p>On the TURN server:</p><ul><li><code>sudo issue-cert.sh</code> will issue a Let&#x27;s Encrypt cert for the TURN domain provided at stack launch, and set it to auto-renew.</li></ul><p>Critical logs on each instance are configured with logrotate to compress and archive themselves to the S3 bucket daily, or when the instance is terminated, whichever comes first.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="jitsictl-usage"></a>Jitsictl Usage<a class="hash-link" href="#jitsictl-usage" title="Direct link to heading">#</a></h2><p>The control server has a convenience script called <code>jitsictl</code> which lets you easily administer your cluster.</p><p>To enable a shard:
<code>jitsictl &lt;region&gt; enable &lt;shard&gt;</code>
e.g.
<code>jitsictl us-east-1 enable 1</code></p><p>You must then manually set the number of JVB&#x27;s for the shard (described below)</p><p>To disable a shard (automatically sets the JVB&#x27;s to 0):
<code>jitsictl &lt;region&gt; disable &lt;shard&gt;</code>
e.g.
<code>jitsictl us-east-1 disable 1</code></p><p>To set the number of JVB&#x27;s in a shard:
<code>jitsictl &lt;region&gt; jvb &lt;shard&gt; &lt;number&gt;</code>
e.g.
<code>jitsictl us-east-1 jvb 1 10</code></p><p>Also includes a convenience command to rapidly increase capacity:
<code>jitsictl &lt;region&gt; max</code> - enables all shards and sets them to 50 JVB&#x27;s</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="grafana-usage"></a>Grafana Usage<a class="hash-link" href="#grafana-usage" title="Direct link to heading">#</a></h2><p>Grafana can be accessed on port 3000 of your domain. The default username is <code>admin</code> and the default password is the instance-id of the Control instance, accessible as a stack output. Contains a dashboard with a ton of overview metrics on the health of the cluster, collected via telegraf on each instance.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/quickdrawsoftware/docs.quickdrawsoftware.com/docs/jitsi-cfn/jitsi-cfn-6-usage.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/jitsi-cfn/post-launch"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Post-Launch Access</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/jitsi-cfn/customization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Customization Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#handy-shortcuts" class="table-of-contents__link">Handy shortcuts</a></li><li><a href="#jitsictl-usage" class="table-of-contents__link">Jitsictl Usage</a></li><li><a href="#grafana-usage" class="table-of-contents__link">Grafana Usage</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Quickdraw Docs</div><ul class="footer__items"><li class="footer__item"><a href="https://quickdrawsoftware.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Back to Home</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Quickdraw Software. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2595c825.js"></script>
<script src="/assets/js/main.7894d923.js"></script>
</body>
</html>